{"version":3,"file":"useClickAway.js","sources":["../../src/hooks/useClickAway.ts"],"sourcesContent":["// https://github.com/streamich/react-use/blob/master/src/useClickAway.ts\nimport React from 'react'\n\nconst defaultEvents = ['mousedown', 'touchstart']\n\ntype RefType = React.RefObject<HTMLElement>\n\nconst useClickAway = <E extends Event = Event>(\n  ref: RefType | RefType[],\n  onClickAway: (event: E) => void,\n  events: string[] = defaultEvents\n) => {\n  const savedCallback = React.useRef(onClickAway)\n\n  React.useEffect(() => {\n    savedCallback.current = onClickAway\n  }, [onClickAway])\n\n  React.useEffect(() => {\n    const handler = (event: any) => {\n      const refs = Array.isArray(ref) ? ref : [ref]\n      const flag = refs.every(curRef => {\n        const { current: el } = curRef\n        return el && !el.contains(event.target)\n      })\n      if (flag) {\n        savedCallback.current(event)\n      }\n    }\n\n    for (let i = 0; i < events.length; i += 1) {\n      document.addEventListener(events[i], handler)\n    }\n\n    return () => {\n      for (let i = 0; i < events.length; i += 1) {\n        document.removeEventListener(events[i], handler)\n      }\n    }\n  }, [events, ref])\n}\n\nexport default useClickAway\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA,IAAM,aAAa,GAAG,CAAC,WAAW,EAAE,YAAY,CAAC,CAAA;AAIjD,IAAM,YAAY,GAAG,UACnB,GAAwB,EACxB,WAA+B,EAC/B,MAAgC;IAAhC,uBAAA,EAAA,sBAAgC;IAEhC,IAAM,aAAa,GAAGA,cAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;IAE/CA,cAAK,CAAC,SAAS,CAAC;QACd,aAAa,CAAC,OAAO,GAAG,WAAW,CAAA;KACpC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAA;IAEjBA,cAAK,CAAC,SAAS,CAAC;QACd,IAAM,OAAO,GAAG,UAAC,KAAU;YACzB,IAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAA;YAC7C,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAA,MAAM;gBACpB,IAAS,EAAE,GAAK,MAAM,QAAX,CAAW;gBAC9B,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;aACxC,CAAC,CAAA;YACF,IAAI,IAAI,EAAE;gBACR,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;aAC7B;SACF,CAAA;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;YACzC,QAAQ,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;SAC9C;QAED,OAAO;YACL,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;gBACzC,QAAQ,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;aACjD;SACF,CAAA;KACF,EAAE,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAA;AACnB,CAAC;;;;"}