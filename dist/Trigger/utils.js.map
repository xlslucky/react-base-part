{"version":3,"file":"utils.js","sources":["../../src/Trigger/utils.ts"],"sourcesContent":["import { PlacementType, OffsetType, StretchType } from './Trigger.types'\n\ntype BaseStyleProps = {\n  placement: PlacementType\n  childrenFullLeft: number\n  childrenFullTop: number\n  childrenHeight: number\n  childrenWidth: number\n  PopupHeight: number\n  PopupWidth: number\n}\n\n// 通过【子元素宽高】、【浮层宽高】、【子元素距页面上、左距离】计算基础left top值\nexport function getBaseStyle({\n  placement,\n  childrenFullLeft,\n  childrenFullTop,\n  childrenHeight,\n  childrenWidth,\n  PopupHeight,\n  PopupWidth,\n}: BaseStyleProps) {\n  let style: React.CSSProperties = {}\n  if (['topLeft', 'bottomLeft'].includes(placement)) {\n    style.left = childrenFullLeft\n  }\n  if (['bottomLeft', 'bottomCenter', 'bottomRight'].includes(placement)) {\n    style.top = Math.round(childrenFullTop + childrenHeight)\n  }\n  if (['rightTop', 'rightCenter', 'rightBottom'].includes(placement)) {\n    style.left = Math.round(childrenFullLeft + childrenWidth)\n  }\n  if (['rightTop', 'leftTop'].includes(placement)) {\n    style.top = childrenFullTop\n  }\n  if (['topLeft', 'topCenter', 'topRight'].includes(placement)) {\n    // top fulltop - height\n    style.top = childrenFullTop - PopupHeight\n  }\n  if (['topCenter', 'bottomCenter'].includes(placement)) {\n    // left fullleft - width / 2 + childrenW / 2\n    style.left = childrenFullLeft - PopupWidth / 2 + childrenWidth / 2\n  }\n  if (['rightBottom', 'leftBottom'].includes(placement)) {\n    // top fulltop - height + childrenH\n    style.top = childrenFullTop - PopupHeight + childrenHeight\n  }\n  if (['rightCenter', 'leftCenter'].includes(placement)) {\n    // top fulltop - height / 2 + childrenH / 2\n    style.top = childrenFullTop - PopupHeight / 2 + childrenHeight / 2\n  }\n  if (['topRight', 'bottomRight'].includes(placement)) {\n    // left fullleft - width + childrenW\n    style.left = childrenFullLeft - PopupWidth + childrenWidth\n  }\n  if (['leftTop', 'leftCenter', 'leftBottom'].includes(placement)) {\n    // left fullleft - width\n    style.left = childrenFullLeft - PopupWidth\n  }\n  return style\n}\n\n// offset、stretch参数和baseStyle叠加组合样式\nexport function getFullStyle({\n  style,\n  offset,\n  stretch,\n  childrenHeight,\n  childrenWidth,\n}: {\n  style: React.CSSProperties\n  offset?: OffsetType\n  stretch?: StretchType\n  childrenHeight: number\n  childrenWidth: number\n}) {\n  // 偏移数据\n  const [offsetX = 0, offsetY = 0] = offset || []\n  style.left = Number(style.left) + offsetX\n  style.top = Number(style.top) + offsetY\n\n  // 拉伸数据\n  switch (stretch) {\n    case 'width':\n      style.width = childrenWidth\n      break\n    case 'minWidth':\n      style.minWidth = childrenWidth\n      break\n    case 'height':\n      style.height = childrenHeight\n      break\n    case 'minHeight':\n      style.minHeight = childrenHeight\n      break\n    default:\n      break\n  }\n  return style\n}\n"],"names":[],"mappings":"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"}