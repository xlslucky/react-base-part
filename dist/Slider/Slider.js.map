{"version":3,"file":"Slider.js","sources":["../../src/Slider/Slider.tsx"],"sourcesContent":["import React from 'react'\nimport classnames from 'classnames'\n\nimport { SliderProps } from './Slider.types'\n\nimport './Slider.scss'\nimport { PREFIX_CLASS } from '../constants'\nimport useSlider from '../hooks/useSlider'\n\nconst Slider: React.FC<SliderProps> = ({\n  value,\n  onChange,\n  step = 1,\n  min = 0,\n  max = 100,\n  smooth,\n  renderHandle,\n  className,\n  prefixCls = PREFIX_CLASS,\n}) => {\n  const prefixClass = `${prefixCls}-slider`\n  const railRef = React.useRef<HTMLDivElement>(null)\n  const handleRef = React.useRef<HTMLDivElement>(null)\n\n  const [innerValue, setInnerValue] = React.useState(0)\n\n  React.useEffect(() => {\n    setInnerValue(value || 0)\n  }, [value])\n\n  function onSuccess(value: number) {\n    setInnerValue(value)\n    if (typeof onChange === 'function') {\n      onChange(value)\n    }\n  }\n\n  const { onMouseDown, onTouchStart, onClick, left, nextValue } = useSlider({\n    railRef,\n    handleRef,\n    step,\n    min,\n    max,\n    smooth,\n    value: innerValue,\n    onSuccess,\n  })\n\n  return (\n    <div className={classnames(prefixClass, className)}>\n      <div onClick={onClick} ref={railRef} className={`${prefixClass}-rail`} />\n      <div\n        onClick={onClick}\n        className={`${prefixClass}-track`}\n        style={{ width: left }}\n      />\n      {typeof renderHandle === 'function' ? (\n        React.cloneElement(renderHandle({ left, value: nextValue }), {\n          ref: handleRef,\n          onMouseDown,\n          onTouchStart,\n        })\n      ) : (\n        <div\n          style={{ left }}\n          ref={handleRef}\n          className={classnames(\n            `${prefixClass}-handle-base`,\n            `${prefixClass}-handle`\n          )}\n          onMouseDown={onMouseDown}\n          onTouchStart={onTouchStart}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Slider\n"],"names":["PREFIX_CLASS","React","useSlider","_jsxs","_jsx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAM,MAAM,GAA0B,UAAC,EAUtC;QATC,KAAK,WAAA,EACL,QAAQ,cAAA,EACR,YAAQ,EAAR,IAAI,mBAAG,CAAC,KAAA,EACR,WAAO,EAAP,GAAG,mBAAG,CAAC,KAAA,EACP,WAAS,EAAT,GAAG,mBAAG,GAAG,KAAA,EACT,MAAM,YAAA,EACN,YAAY,kBAAA,EACZ,SAAS,eAAA,EACT,iBAAwB,EAAxB,SAAS,mBAAGA,kBAAY,KAAA;IAExB,IAAM,WAAW,GAAM,SAAS,YAAS,CAAA;IACzC,IAAM,OAAO,GAAGC,cAAK,CAAC,MAAM,CAAiB,IAAI,CAAC,CAAA;IAClD,IAAM,SAAS,GAAGA,cAAK,CAAC,MAAM,CAAiB,IAAI,CAAC,CAAA;IAE9C,IAAA,KAA8BA,cAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,EAA9C,UAAU,QAAA,EAAE,aAAa,QAAqB,CAAA;IAErDA,cAAK,CAAC,SAAS,CAAC;QACd,aAAa,CAAC,KAAK,IAAI,CAAC,CAAC,CAAA;KAC1B,EAAE,CAAC,KAAK,CAAC,CAAC,CAAA;IAEX,SAAS,SAAS,CAAC,KAAa;QAC9B,aAAa,CAAC,KAAK,CAAC,CAAA;QACpB,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAClC,QAAQ,CAAC,KAAK,CAAC,CAAA;SAChB;KACF;IAEK,IAAA,KAA0DC,OAAS,CAAC;QACxE,OAAO,SAAA;QACP,SAAS,WAAA;QACT,IAAI,MAAA;QACJ,GAAG,KAAA;QACH,GAAG,KAAA;QACH,MAAM,QAAA;QACN,KAAK,EAAE,UAAU;QACjB,SAAS,WAAA;KACV,CAAC,EATM,WAAW,iBAAA,EAAE,YAAY,kBAAA,EAAE,OAAO,aAAA,EAAE,IAAI,UAAA,EAAE,SAAS,eASzD,CAAA;IAEF,QACEC,yCAAK,SAAS,EAAE,UAAU,CAAC,WAAW,EAAE,SAAS,CAAC,iBAChDC,wBAAK,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,SAAS,EAAK,WAAW,UAAO,WAAI;YACzEA,wBACE,OAAO,EAAE,OAAO,EAChB,SAAS,EAAK,WAAW,WAAQ,EACjC,KAAK,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,WACtB;YACD,OAAO,YAAY,KAAK,UAAU,IACjCH,cAAK,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,IAAI,MAAA,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,EAAE;gBAC3D,GAAG,EAAE,SAAS;gBACd,WAAW,aAAA;gBACX,YAAY,cAAA;aACb,CAAC,KAEFG,wBACE,KAAK,EAAE,EAAE,IAAI,MAAA,EAAE,EACf,GAAG,EAAE,SAAS,EACd,SAAS,EAAE,UAAU,CAChB,WAAW,iBAAc,EACzB,WAAW,YAAS,CACxB,EACD,WAAW,EAAE,WAAW,EACxB,YAAY,EAAE,YAAY,WAC1B,CACH,aACG,EACP;AACH,CAAC;;;;"}