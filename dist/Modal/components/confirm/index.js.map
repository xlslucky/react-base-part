{"version":3,"file":"index.js","sources":["../../../../src/Modal/components/confirm/index.tsx"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Button from '../../../Button'\nimport { IconExclamationCircleFilled } from '../../../components/Icons'\n\nimport './confirm.scss'\n\nimport ModalContent from '../ModalContent'\nimport { PREFIX_CLASS } from '../../../constants'\nimport { ConfirmProps } from './confirm.types'\n\nfunction Modal({\n  title,\n  content,\n  onCancel,\n  onOk,\n  removeContainer,\n}: ConfirmProps & { removeContainer: () => void }) {\n  const prefixClass = `${PREFIX_CLASS}-modal-confirm`\n  const [loading, setLoading] = React.useState(false)\n\n  async function handleOk() {\n    if (typeof onOk === 'function') {\n      try {\n        setLoading(true)\n        await onOk()\n      } finally {\n        setLoading(false)\n      }\n    }\n    removeContainer()\n  }\n\n  function handleCancel() {\n    if (typeof onCancel === 'function') {\n      onCancel()\n    }\n    removeContainer()\n  }\n\n  return (\n    <ModalContent width={416}>\n      <div className={prefixClass}>\n        <div className={`${prefixClass}-body`}>\n          <div className={`${prefixClass}-body-header`}>\n            <IconExclamationCircleFilled\n              className={`${prefixClass}-exclamation-icon`}\n            />\n            <span className={`${prefixClass}-body-title`}>{title}</span>\n          </div>\n          <div className={`${prefixClass}-body-content`}>{content}</div>\n        </div>\n        <div className={`${prefixClass}-btns`}>\n          <Button className={`${prefixClass}-btn`} onClick={handleCancel}>\n            取消\n          </Button>\n          <Button\n            loading={loading}\n            className={`${prefixClass}-btn`}\n            type=\"primary\"\n            onClick={handleOk}\n          >\n            确定\n          </Button>\n        </div>\n      </div>\n    </ModalContent>\n  )\n}\n\nexport default function confirm({\n  getContainer = () => document.body,\n  ...props\n}: ConfirmProps) {\n  const container = document.createElement('div')\n\n  function removeContainer() {\n    getContainer().removeChild(container)\n  }\n\n  ReactDOM.render(\n    <Modal {...props} removeContainer={removeContainer} />,\n    container\n  )\n\n  getContainer().appendChild(container)\n}\n"],"names":["PREFIX_CLASS","React","_jsx","ModalContent","_jsxs","Button"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,SAAS,KAAK,CAAC,EAMkC;QAL/C,KAAK,WAAA,EACL,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,IAAI,UAAA,EACJ,eAAe,qBAAA;IAEf,IAAM,WAAW,GAAMA,kBAAY,mBAAgB,CAAA;IAC7C,IAAA,KAAwBC,cAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,EAA5C,OAAO,QAAA,EAAE,UAAU,QAAyB,CAAA;IAEnD,SAAe,QAAQ;;;;;8BACjB,OAAO,IAAI,KAAK,UAAU,CAAA,EAA1B,wBAA0B;;;;wBAE1B,UAAU,CAAC,IAAI,CAAC,CAAA;wBAChB,qBAAM,IAAI,EAAE,EAAA;;wBAAZ,SAAY,CAAA;;;wBAEZ,UAAU,CAAC,KAAK,CAAC,CAAA;;;wBAGrB,eAAe,EAAE,CAAA;;;;;KAClB;IAED,SAAS,YAAY;QACnB,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAClC,QAAQ,EAAE,CAAA;SACX;QACD,eAAe,EAAE,CAAA;KAClB;IAED,QACEC,eAACC,OAAY,oBAAC,KAAK,EAAE,GAAG,gBACtBC,yCAAK,SAAS,EAAE,WAAW,iBACzBA,yCAAK,SAAS,EAAK,WAAW,UAAO,iBACnCA,yCAAK,SAAS,EAAK,WAAW,iBAAc,iBAC1CF,eAAC,2BAA2B,IAC1B,SAAS,EAAK,WAAW,sBAAmB,WAC5C;gCACFA,yCAAM,SAAS,EAAK,WAAW,gBAAa,gBAAG,KAAK,YAAQ,aACxD;wBACNA,wCAAK,SAAS,EAAK,WAAW,kBAAe,gBAAG,OAAO,YAAO,aAC1D;gBACNE,yCAAK,SAAS,EAAK,WAAW,UAAO,iBACnCF,eAACG,OAAM,oBAAC,SAAS,EAAK,WAAW,SAAM,EAAE,OAAO,EAAE,YAAY,0CAErD;wBACTH,eAACG,OAAM,oBACL,OAAO,EAAE,OAAO,EAChB,SAAS,EAAK,WAAW,SAAM,EAC/B,IAAI,EAAC,SAAS,EACd,OAAO,EAAE,QAAQ,0CAGV,aACL,aACF,YACO,EAChB;AACH,CAAC;SAEuB,OAAO,CAAC,EAGjB;IAFb,IAAA,oBAAkC,EAAlC,YAAY,mBAAG,cAAM,OAAA,QAAQ,CAAC,IAAI,GAAA,KAAA,EAC/B,KAAK,qBAFsB,gBAG/B,CADS;IAER,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;IAE/C,SAAS,eAAe;QACtB,YAAY,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,CAAA;KACtC;IAED,QAAQ,CAAC,MAAM,CACbH,eAAC,KAAK,sBAAK,KAAK,IAAE,eAAe,EAAE,eAAe,YAAI,EACtD,SAAS,CACV,CAAA;IAED,YAAY,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,CAAA;AACvC;;;;"}