{"version":3,"file":"index.js","sources":["../../../../src/Modal/components/confirm/index.tsx"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Button from '../../../Button'\nimport { IconExclamationCircleFilled } from '../../../components/Icons'\n\nimport './confirm.scss'\n\nimport ModalConetnt from '../ModalContent'\nimport { PREFIX_CLASS } from '../../../constants'\nimport { ConfirmProps } from './confirm.types'\n\nconst prefixCls = PREFIX_CLASS\n\nfunction Modal({\n  title,\n  content,\n  onCancel,\n  onOk,\n  removeContainer,\n}: ConfirmProps & { removeContainer: () => void }) {\n  const [loading, setLoading] = React.useState(false)\n\n  async function handleOk() {\n    if (typeof onOk === 'function') {\n      try {\n        setLoading(true)\n        await onOk()\n      } finally {\n        setLoading(false)\n      }\n    }\n    removeContainer()\n  }\n\n  function handleCancel() {\n    if (typeof onCancel === 'function') {\n      onCancel()\n    }\n    removeContainer()\n  }\n\n  return (\n    <ModalConetnt width={416}>\n      <div className={`${prefixCls}-modal-confirm`}>\n        <div className={`${prefixCls}-modal-confirm-body`}>\n          <div className={`${prefixCls}-modal-confirm-body-header`}>\n            <IconExclamationCircleFilled\n              className={`${prefixCls}-modal-confirm-exclamation-icon`}\n            />\n            <span className={`${prefixCls}-modal-confirm-body-title`}>\n              {title}\n            </span>\n          </div>\n          <div className={`${prefixCls}-modal-confirm-body-content`}>\n            {content}\n          </div>\n        </div>\n        <div className={`${prefixCls}-modal-confirm-btns`}>\n          <Button\n            className={`${prefixCls}-modal-confirm-btn`}\n            onClick={handleCancel}\n          >\n            取消\n          </Button>\n          <Button\n            loading={loading}\n            className={`${prefixCls}-modal-confirm-btn`}\n            type=\"primary\"\n            onClick={handleOk}\n          >\n            确定\n          </Button>\n        </div>\n      </div>\n    </ModalConetnt>\n  )\n}\n\nexport default function confirm({\n  getContainer = () => document.body,\n  ...props\n}: ConfirmProps) {\n  const container = document.createElement('div')\n\n  function removeContainer() {\n    getContainer().removeChild(container)\n  }\n\n  ReactDOM.render(\n    <Modal {...props} removeContainer={removeContainer} />,\n    container\n  )\n\n  getContainer().appendChild(container)\n}\n"],"names":["PREFIX_CLASS","React","_jsx","ModalConetnt","_jsxs","Button"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA,IAAM,SAAS,GAAGA,kBAAY,CAAA;AAE9B,SAAS,KAAK,CAAC,EAMkC;QAL/C,KAAK,WAAA,EACL,OAAO,aAAA,EACP,QAAQ,cAAA,EACR,IAAI,UAAA,EACJ,eAAe,qBAAA;IAET,IAAA,KAAwBC,cAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,EAA5C,OAAO,QAAA,EAAE,UAAU,QAAyB,CAAA;IAEnD,SAAe,QAAQ;;;;;8BACjB,OAAO,IAAI,KAAK,UAAU,CAAA,EAA1B,wBAA0B;;;;wBAE1B,UAAU,CAAC,IAAI,CAAC,CAAA;wBAChB,qBAAM,IAAI,EAAE,EAAA;;wBAAZ,SAAY,CAAA;;;wBAEZ,UAAU,CAAC,KAAK,CAAC,CAAA;;;wBAGrB,eAAe,EAAE,CAAA;;;;;KAClB;IAED,SAAS,YAAY;QACnB,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAClC,QAAQ,EAAE,CAAA;SACX;QACD,eAAe,EAAE,CAAA;KAClB;IAED,QACEC,eAACC,OAAY,oBAAC,KAAK,EAAE,GAAG,gBACtBC,yCAAK,SAAS,EAAK,SAAS,mBAAgB,iBAC1CA,yCAAK,SAAS,EAAK,SAAS,wBAAqB,iBAC/CA,yCAAK,SAAS,EAAK,SAAS,+BAA4B,iBACtDF,eAAC,2BAA2B,IAC1B,SAAS,EAAK,SAAS,oCAAiC,WACxD;gCACFA,yCAAM,SAAS,EAAK,SAAS,8BAA2B,gBACrD,KAAK,YACD,aACH;wBACNA,wCAAK,SAAS,EAAK,SAAS,gCAA6B,gBACtD,OAAO,YACJ,aACF;gBACNE,yCAAK,SAAS,EAAK,SAAS,wBAAqB,iBAC/CF,eAACG,OAAM,oBACL,SAAS,EAAK,SAAS,uBAAoB,EAC3C,OAAO,EAAE,YAAY,0CAGd;wBACTH,eAACG,OAAM,oBACL,OAAO,EAAE,OAAO,EAChB,SAAS,EAAK,SAAS,uBAAoB,EAC3C,IAAI,EAAC,SAAS,EACd,OAAO,EAAE,QAAQ,0CAGV,aACL,aACF,YACO,EAChB;AACH,CAAC;SAEuB,OAAO,CAAC,EAGjB;IAFb,IAAA,oBAAkC,EAAlC,YAAY,mBAAG,cAAM,OAAA,QAAQ,CAAC,IAAI,GAAA,KAAA,EAC/B,KAAK,qBAFsB,gBAG/B,CADS;IAER,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;IAE/C,SAAS,eAAe;QACtB,YAAY,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,CAAA;KACtC;IAED,QAAQ,CAAC,MAAM,CACbH,eAAC,KAAK,sBAAK,KAAK,IAAE,eAAe,EAAE,eAAe,YAAI,EACtD,SAAS,CACV,CAAA;IAED,YAAY,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,CAAA;AACvC;;;;"}